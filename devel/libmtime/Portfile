# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.1
PortGroup           github 1.0
PortGroup           legacysupport 1.1

github.setup        mambrus libmtime ab66cca71043b6262ca3743a3dd7cc57bfd24dc7
version             2016.05.30
revision            0
categories          devel
description         C-library: functions for managing time
long_description    {*}${description}
license             {GPL-2 MIT}
maintainers         {@barracuda156 gmail.com:vital.had} openmaintainer
checksums           rmd160  0271366badc7f1b013cce917b183a1e4689b1a41 \
                    sha256  ad1216bf7662e28393f203f882a3fcf7fc84626d3704afb3fa0afb6f3fac2b64 \
                    size    4048
github.tarball_from archive

# clock_gettime
legacysupport.newest_darwin_requires_legacy 15

# https://github.com/mambrus/libmtime/issues/1
patchfiles          patch-fix-libname.diff

destroot {
    set docdir ${prefix}/share/doc/${name}
    copy ${cmake.build_dir}/${name}.a ${destroot}${prefix}/lib
    copy ${worksrcpath}/include/mtime.h ${destroot}${prefix}/include
    xinstall -d ${destroot}${docdir}
    xinstall -m 0644 -W ${worksrcpath} LICENSE README.md ${destroot}${docdir}
}
