--- Makefile	2023-10-24 01:10:59.000000000 +0800
+++ Makefile	2023-11-04 17:51:45.000000000 +0800
@@ -1,11 +1,11 @@
-CXX ?= g++
+CXX ?= @CXX@
 exeName = FreeFileSync_$(shell arch)
 
-CXXFLAGS += -std=c++23 -pipe -DWXINTL_NO_GETTEXT_MACRO -I../.. -I../../zenXml -include "zen/i18n.h" -include "zen/warn_static.h" \
-           -Wall -Wfatal-errors -Wmissing-include-dirs -Wswitch-enum -Wcast-align -Wnon-virtual-dtor -Wno-unused-function -Wshadow -Wno-maybe-uninitialized \
-           -O3 -DNDEBUG `wx-config --cxxflags --debug=no` -pthread
+CXXFLAGS += @CXXFLAGS@ -pipe -DWXINTL_NO_GETTEXT_MACRO -DwxUSE_EXCEPTIONS=0 -I../../zenXml -DZEN_MAC -I@PREFIX@/include -I../.. -include "zen/i18n.h" -include "zen/warn_static.h" \
+           -Wall -Wmissing-include-dirs -Wswitch-enum -Wcast-align -Wnon-virtual-dtor -Wno-unused-function -Wshadow -Wno-maybe-uninitialized \
+           -O3 -DNDEBUG `@WXCONF@ --cxxflags --debug=no` -pthread
 
-LDFLAGS += -s -no-pie `wx-config --libs std, aui, richtext --debug=no` -pthread
+LDFLAGS += -s -no-pie `@WXCONF@ --libs std, aui, richtext --debug=no` -pthread
 
 
 CXXFLAGS  += `pkg-config --cflags openssl`
@@ -19,7 +19,7 @@
 
 CXXFLAGS  += `pkg-config --cflags gtk+-2.0`
 #treat as system headers so that warnings are hidden:
-CXXFLAGS  += -isystem/usr/include/gtk-2.0
+# CXXFLAGS  += -isystem/usr/include/gtk-2.0
 
 #support for SELinux (optional)
 SELINUX_EXISTING=$(shell pkg-config --exists libselinux && echo YES)
