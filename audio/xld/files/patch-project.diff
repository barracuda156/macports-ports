--- XLD/XLD_export.xcodeproj/project.pbxproj	2021-01-08 12:28:42.000000000 +0800
+++ XLD/XLD_export.xcodeproj/project.pbxproj	2023-06-19 11:59:47.000000000 +0800
@@ -139,6 +139,8 @@
 		BFF331701386359D00B5DCDB /* CoverArtSearcher.xib in Resources */ = {isa = PBXBuildFile; fileRef = BFF3316E1386359D00B5DCDB /* CoverArtSearcher.xib */; };
 		BFF7E77E1126FEDD00300E40 /* XLDTakDecoder.bundle in CopyFiles */ = {isa = PBXBuildFile; fileRef = BFF7E77D1126FEDD00300E40 /* XLDTakDecoder.bundle */; };
 		BFFCC5F20B0F7A62005CE0B7 /* XLDFlacDecoder.bundle in CopyFiles */ = {isa = PBXBuildFile; fileRef = BFFCC5CB0B0F7A45005CE0B7 /* XLDFlacDecoder.bundle */; };
+		F471E9882A4007CF00CCF1B9 /* XLDGainAnalyzer.c in Sources */ = {isa = PBXBuildFile; fileRef = F471E9862A4007CF00CCF1B9 /* XLDGainAnalyzer.c */; };
+		F471E98A2A40089900CCF1B9 /* SystemConfiguration.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = F471E9892A40089900CCF1B9 /* SystemConfiguration.framework */; };
 /* End PBXBuildFile section */
 
 /* Begin PBXCopyFilesBuildPhase section */
@@ -481,6 +483,9 @@
 		BFF7C6A2137D753800192CA7 /* French */ = {isa = PBXFileReference; lastKnownFileType = wrapper.rtfd; name = French; path = French.lproj/Credits.rtfd; sourceTree = "<group>"; };
 		BFF7E77D1126FEDD00300E40 /* XLDTakDecoder.bundle */ = {isa = PBXFileReference; lastKnownFileType = "wrapper.plug-in"; name = XLDTakDecoder.bundle; path = ../XLDTakDecoder/build/Release/XLDTakDecoder.bundle; sourceTree = "<group>"; };
 		BFFCC5CB0B0F7A45005CE0B7 /* XLDFlacDecoder.bundle */ = {isa = PBXFileReference; lastKnownFileType = "wrapper.plug-in"; name = XLDFlacDecoder.bundle; path = ../XLDFlacDecoder/build/Release/XLDFlacDecoder.bundle; sourceTree = "<group>"; };
+		F471E9862A4007CF00CCF1B9 /* XLDGainAnalyzer.c */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.c; path = XLDGainAnalyzer.c; sourceTree = "<group>"; };
+		F471E9872A4007CF00CCF1B9 /* XLDGainAnalyzer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = XLDGainAnalyzer.h; sourceTree = "<group>"; };
+		F471E9892A40089900CCF1B9 /* SystemConfiguration.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = SystemConfiguration.framework; path = /System/Library/Frameworks/SystemConfiguration.framework; sourceTree = "<absolute>"; };
 /* End PBXFileReference section */
 
 /* Begin PBXFrameworksBuildPhase section */
@@ -497,6 +502,7 @@
 				BF85F5851371579E00D71081 /* DiscRecording.framework in Frameworks */,
 				BF85F5871371579E00D71081 /* DiscRecordingUI.framework in Frameworks */,
 				BF8CD8E815BEAEEC00433B47 /* libcrypto.dylib in Frameworks */,
+				F471E98A2A40089900CCF1B9 /* SystemConfiguration.framework in Frameworks */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -613,6 +619,7 @@
 		1058C7A0FEA54F0111CA2CBB /* Linked Frameworks */ = {
 			isa = PBXGroup;
 			children = (
+				F471E9892A40089900CCF1B9 /* SystemConfiguration.framework */,
 				BF5593DC0EC9EEAA00562F2C /* CoreAudio.framework */,
 				BF24F1D70E829140007E24DE /* IOKit.framework */,
 				BFC5E9F90E4E294300B3EF55 /* DiskArbitration.framework */,
@@ -669,6 +676,8 @@
 				BF1166A6128AF2450058749F /* XLDCDDABackend.c */,
 				BF43BCE80B00C1FF00A676A0 /* sfifo.h */,
 				BF43BCE90B00C1FF00A676A0 /* sfifo.c */,
+				F471E9862A4007CF00CCF1B9 /* XLDGainAnalyzer.c */,
+				F471E9872A4007CF00CCF1B9 /* XLDGainAnalyzer.h */,
 				BF1192000E7B91DA004BC21D /* gain_analysis.h */,
 				BF1191FF0E7B91DA004BC21D /* gain_analysis.c */,
 			);
@@ -799,7 +808,6 @@
 			dependencies = (
 			);
 			name = XLD;
-			productInstallPath = "$(HOME)/Applications";
 			productName = XLD;
 			productReference = 8D1107320486CEB800E47090 /* XLD.app */;
 			productType = "com.apple.product-type.application";
@@ -809,11 +817,8 @@
 /* Begin PBXProject section */
 		29B97313FDCFA39411CA2CEA /* Project object */ = {
 			isa = PBXProject;
-			attributes = {
-			};
 			buildConfigurationList = C01FCF4E08A954540054247B /* Build configuration list for PBXProject "XLD_export" */;
 			compatibilityVersion = "Xcode 2.4";
-			developmentRegion = English;
 			hasScannedForEncodings = 1;
 			knownRegions = (
 				English,
@@ -955,6 +960,7 @@
 				BF5FB7A5178D53C30076055E /* XLDLMAXMLLoader.m in Sources */,
 				BF598919181B8C11003E0FBD /* XLDCCDLoader.m in Sources */,
 				BF8246CB1BEDB2310033CDF4 /* XLDOpticalDriveManager.m in Sources */,
+				F471E9882A4007CF00CCF1B9 /* XLDGainAnalyzer.c in Sources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -1162,10 +1168,6 @@
 		C01FCF4B08A954540054247B /* Debug */ = {
 			isa = XCBuildConfiguration;
 			buildSettings = {
-				ARCHS = (
-					i386,
-					ppc,
-				);
 				COPY_PHASE_STRIP = NO;
 				FRAMEWORK_SEARCH_PATHS = (
 					"$(FRAMEWORK_SEARCH_PATHS)",
@@ -1177,7 +1179,6 @@
 				GCC_GENERATE_DEBUGGING_SYMBOLS = NO;
 				GCC_OPTIMIZATION_LEVEL = 3;
 				INFOPLIST_FILE = Info.plist;
-				INSTALL_PATH = "$(HOME)/Applications";
 				PRODUCT_NAME = XLD;
 				WRAPPER_EXTENSION = app;
 			};
@@ -1196,7 +1197,6 @@
 				GCC_GENERATE_DEBUGGING_SYMBOLS = NO;
 				GCC_OPTIMIZATION_LEVEL = 3;
 				INFOPLIST_FILE = Info.plist;
-				INSTALL_PATH = "$(HOME)/Applications";
 				PRODUCT_NAME = XLD;
 			};
 			name = Release;
@@ -1204,14 +1204,9 @@
 		C01FCF4F08A954540054247B /* Debug */ = {
 			isa = XCBuildConfiguration;
 			buildSettings = {
-				ARCHS = (
-					i386,
-					ppc,
-				);
 				GCC_ENABLE_SSE3_EXTENSIONS = YES;
 				GCC_PRECOMPILE_PREFIX_HEADER = YES;
 				GCC_PREFIX_HEADER = XLD_Prefix.pch;
-				GCC_VERSION = 4.0;
 				GCC_WARN_ABOUT_RETURN_TYPE = YES;
 				GCC_WARN_UNUSED_VARIABLE = YES;
 				ONLY_ACTIVE_ARCH = YES;
@@ -1219,24 +1214,19 @@
 					"-lsndfile",
 					"-lcddb",
 					"-lsoxr",
+					"-lebur128",
 				);
 				PREBINDING = NO;
-				SDKROOT = /Developer/SDKs/MacOSX10.4u.sdk;
-				USER_HEADER_SEARCH_PATHS = /usr/local/include;
+				USER_HEADER_SEARCH_PATHS = @PREFIX@/include;
 			};
 			name = Debug;
 		};
 		C01FCF5008A954540054247B /* Release */ = {
 			isa = XCBuildConfiguration;
 			buildSettings = {
-				ARCHS = (
-					i386,
-					ppc,
-				);
 				GCC_ENABLE_SSE3_EXTENSIONS = YES;
 				GCC_PRECOMPILE_PREFIX_HEADER = YES;
 				GCC_PREFIX_HEADER = XLD_Prefix.pch;
-				GCC_VERSION = 4.0;
 				GCC_WARN_ABOUT_RETURN_TYPE = YES;
 				GCC_WARN_UNUSED_VARIABLE = YES;
 				ONLY_ACTIVE_ARCH = YES;
@@ -1244,10 +1234,10 @@
 					"-lsndfile",
 					"-lcddb",
 					"-lsoxr",
+					"-lebur128",
 				);
 				PREBINDING = NO;
-				SDKROOT = /Developer/SDKs/MacOSX10.4u.sdk;
-				USER_HEADER_SEARCH_PATHS = /usr/local/include;
+				USER_HEADER_SEARCH_PATHS = @PREFIX@/include;
 			};
 			name = Release;
 		};
