From 62ac2f3cbf0a92c7b22447b8762b7a3bbfee7aa4 Mon Sep 17 00:00:00 2001
From: barracuda156 <vital.had@gmail.com>
Date: Sat, 5 Aug 2023 16:51:59 +0800
Subject: [PATCH 1/2] Use correct flags on all powerpc

---
 CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git CMakeLists.txt CMakeLists.txt
index dac2c3d3..6657b17a 100644
--- CMakeLists.txt
+++ CMakeLists.txt
@@ -215,7 +215,7 @@ endif()
 
 if(NOT APPLE)
   if(NATIVE_BUILD)
-    if(CMAKE_SYSTEM_PROCESSOR STREQUAL ppc64le)
+    if(CMAKE_SYSTEM_PROCESSOR MATCHES "^(powerpc|ppc)")
       add_compile_options(-mcpu=native -mtune=native)
     else()
       add_compile_options(-march=native -mtune=native)
-- 
2.41.0

