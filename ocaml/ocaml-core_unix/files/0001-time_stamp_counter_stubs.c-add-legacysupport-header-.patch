From 89ec99a02fe593384469d91c1b6435f2c86b587e Mon Sep 17 00:00:00 2001
From: barracuda156 <vital.had@gmail.com>
Date: Mon, 21 Nov 2022 01:08:19 +0800
Subject: [PATCH 1/2] time_stamp_counter_stubs.c: add legacysupport header for
 clock_gettime

---
 time_stamp_counter/src/time_stamp_counter_stubs.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/time_stamp_counter/src/time_stamp_counter_stubs.c b/time_stamp_counter/src/time_stamp_counter_stubs.c
index 5d5ec32..1cf0ee1 100644
--- a/time_stamp_counter/src/time_stamp_counter_stubs.c
+++ b/time_stamp_counter/src/time_stamp_counter_stubs.c
@@ -17,6 +17,11 @@
 #ifdef __MACH__
 #include <mach/clock.h>
 #include <mach/mach.h>
+
+#include <AvailabilityMacros.h>
+#if MAC_OS_X_VERSION_MAX_ALLOWED <= 101100
+#include <LegacySupport/time.h>
+#endif
 #endif
 
 #include "ocaml_utils.h"
-- 
2.38.1

