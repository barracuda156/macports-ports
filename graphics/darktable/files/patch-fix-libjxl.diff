Backport of https://github.com/darktable-org/darktable/commit/5812a1df9b6d3eb89ebc249dc29362780c675252

--- src/imageio/imageio_jpegxl.c	2024-04-30 05:11:37.000000000 +0800
+++ src/imageio/imageio_jpegxl.c	2024-04-30 05:11:56.000000000 +0800
@@ -223,7 +223,12 @@
 
     if(status == JXL_DEC_COLOR_ENCODING)
     {
-      if(JxlDecoderGetICCProfileSize(decoder, &pixel_format, JXL_COLOR_PROFILE_TARGET_DATA, &icc_size)
+      if(JxlDecoderGetICCProfileSize(decoder,
+#if JPEGXL_NUMERIC_VERSION < JPEGXL_COMPUTE_NUMERIC_VERSION(0, 9, 0)
+                                     &pixel_format,
+#endif
+                                     JXL_COLOR_PROFILE_TARGET_DATA,
+                                     &icc_size)
          == JXL_DEC_SUCCESS)
       {
         if(icc_size)
@@ -231,7 +236,9 @@
           img->profile_size = icc_size;
           img->profile = (uint8_t *)g_malloc0(icc_size);
           JxlDecoderGetColorAsICCProfile(decoder,
+#if JPEGXL_NUMERIC_VERSION < JPEGXL_COMPUTE_NUMERIC_VERSION(0, 9, 0)
                                          &pixel_format,
+#endif
                                          JXL_COLOR_PROFILE_TARGET_DATA,
                                          img->profile,
                                          icc_size);
