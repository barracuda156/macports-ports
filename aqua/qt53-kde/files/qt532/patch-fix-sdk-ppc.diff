--- qtbase/configure	2014-09-11 18:47:55.000000000 +0800
+++ qtbase/configure	2023-11-06 23:26:23.000000000 +0800
@@ -271,35 +271,12 @@
     # Normally we take care of sysrootifying in sdk.prf, but configure extracts some
     # values before qmake is even built, so we have to duplicate the logic here.
 
-    sdk=$(getSingleQMakeVariable "QMAKE_MAC_SDK" "$1")
-    if [ -z "$sdk" ]; then echo "QMAKE_MAC_SDK must be set when building on Mac" >&2; exit 1; fi
-    sysroot=$(/usr/bin/xcodebuild -sdk $sdk -version Path 2>/dev/null)
-    if [ -z "$sysroot" ]; then echo "Failed to resolve SDK path for '$sdk'" >&2; exit 1; fi
-
-    case "$sdk" in
-        macosx*)
-            version_min_flag="-mmacosx-version-min=$(getSingleQMakeVariable QMAKE_MACOSX_DEPLOYMENT_TARGET "$1")"
-        ;;
-        iphoneos*)
-            version_min_flag="-miphoneos-version-min=$(getSingleQMakeVariable QMAKE_IOS_DEPLOYMENT_TARGET "$1")"
-        ;;
-        iphonesimulator*)
-            version_min_flag="-mios-simulator-version-min=$(getSingleQMakeVariable QMAKE_IOS_DEPLOYMENT_TARGET "$1")"
-        ;;
-        *)
-        ;;
-    esac
+    sdk=$(getSingleQMakeVariable "macosx10.6")
+    version_min_flag="-mmacosx-version-min=10.6"
+    sysroot="/"
 
     echo "$1" | while read line; do
         case "$line" in
-            QMAKE_CC=*|QMAKE_CXX=*|QMAKE_FIX_RPATH=*|QMAKE_AR=*|QMAKE_RANLIB=*|QMAKE_LINK=*|QMAKE_LINK_SHLIB=*)
-                # Prefix tool with toolchain path
-                var=$(echo "$line" | cut -d '=' -f 1)
-                val=$(echo "$line" | cut -d '=' -f 2-)
-                sdk_val=$(/usr/bin/xcrun -sdk $sdk -find $(echo $val | cut -d ' ' -f 1))
-                val=$(echo $sdk_val $(echo $val | cut -s -d ' ' -f 2-))
-                echo "$var=$val"
-            ;;
             QMAKE_CFLAGS=*|QMAKE_CXXFLAGS=*|QMAKE_OBJECTIVE_CFLAGS=*)
                 echo "$line -isysroot $sysroot $version_min_flag"
             ;;
@@ -498,28 +475,6 @@
     outpath=`pwd -W`
 fi
 
-#-------------------------------------------------------------------------------
-# Verify Xcode installation on Mac OS
-#-------------------------------------------------------------------------------
-
-if [ "$BUILD_ON_MAC" = "yes" ]; then
-    if ! /usr/bin/xcode-select --print-path >/dev/null 2>&1; then
-        echo >&2
-        echo "   No Xcode is selected. Use xcode-select -switch to choose an Xcode" >&2
-        echo "   version. See the xcode-select man page for more information." >&2
-        echo >&2
-        exit 2
-    fi
-
-    if ! /usr/bin/xcrun -find xcrun >/dev/null 2>&1; then
-        echo >&2
-        echo "   Xcode not set up properly. You may need to confirm the license" >&2
-        echo "   agreement by running /usr/bin/xcodebuild without arguments." >&2
-        echo >&2
-        exit 2
-    fi
-fi
-
 #-----------------------------------------------------------------------------
 # Qt version detection
 #-----------------------------------------------------------------------------
