From 00d56f059353b32a4d08d6fb5f0394db5c9c7434 Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Tue, 16 Apr 2024 11:48:55 +0800
Subject: [PATCH] os_bsd.cpp: remove breaking macro for Apple

---
 hotspot/src/os/bsd/vm/os_bsd.cpp | 5 -----
 1 file changed, 5 deletions(-)

diff --git hotspot/src/os/bsd/vm/os_bsd.cpp hotspot/src/os/bsd/vm/os_bsd.cpp
index 7e5e4d6db6..bb7cc5bd70 100644
--- hotspot/src/os/bsd/vm/os_bsd.cpp
+++ hotspot/src/os/bsd/vm/os_bsd.cpp
@@ -4853,10 +4853,6 @@ int os::fork_and_exec(char* cmd, bool use_vfork_if_available) {
 // as libawt.so, and renamed libawt_xawt.so
 //
 bool os::is_headless_jre() {
-#ifdef __APPLE__
-    // We no longer build headless-only on Mac OS X
-    return false;
-#else
     struct stat statbuf;
     char buf[MAXPATHLEN];
     char libmawtpath[MAXPATHLEN];
@@ -4888,7 +4884,6 @@ bool os::is_headless_jre() {
     if (::stat(libmawtpath, &statbuf) == 0) return false;
 
     return true;
-#endif
 }
 
 // Get the default path to the core file
